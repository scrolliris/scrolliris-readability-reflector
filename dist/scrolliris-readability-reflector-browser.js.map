{"version":3,"names":[],"mappings":"","sources":["scrolliris-readability-reflector-browser.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nfunction render(ctx) {\n  // iframe\n  var iframe = document.createElement('iframe');\n  iframe.setAttribute('class', 'scrolliris-frame');\n\n  // iframe container\n  var container = document.createElement('div');\n  container.setAttribute('id', 'scrolliris_container');\n  container.appendChild(iframe);\n  document.body.appendChild(container);\n\n  // widget\n  var currentScript = document.currentScript || function () {\n    var scripts = document.getElementsByTagName('script');\n    return scripts[scripts.length - 1];\n  }();\n\n  var canvasJS = (ctx.settings || {}).canvasJS || currentScript.getAttribute('src').replace(/(\\.min)?\\.js(\\?)?/, '-canvas$1.js$2'),\n      canvasCSS = (ctx.settings || {}).canvasCSS || currentScript.getAttribute('src').replace(/(\\.min)?\\.js(\\?)?/, '-canvas$1.css$2');\n\n  var content = '\\n<head>\\n  <meta charset=\"utf-8\">\\n  <link rel=\"stylesheet\" href=\"' + canvasCSS + '\">\\n</head>\\n<body>\\n  <div id=\"scrolliris_header\">\\n    <h1>Text Readability Heatmap<span class=\"label\">BETA</span></h1>\\n    <!-- <button class=\"btn close\">close</button> -->\\n  </div>\\n  <div id=\"scrolliris_canvas_container\"></div>\\n  <div id=\"scrolliris_footer\">\\n    <p class=\"txt\">Powered by\\n      <a href=\"https://scrolliris.com/\" target=\"_blank\">Scrolliris</a></p>\\n  </div>\\n  <script src=\"' + canvasJS + '\"></script>\\n</body>\\n';\n  content = content.replace(/\\n/g, '');\n  iframe.contentWindow.SihlContext = ctx;\n  iframe.contentWindow.document.open();\n  iframe.contentWindow.document.write(content);\n  iframe.contentWindow.document.close();\n}\n\nfunction insertStyle() {\n  var cssContent = '\\n#scrolliris_container {\\n  position: fixed;\\n  width: 0px;\\n  height: 0px;\\n  bottom: 0px;\\n  left: 0px;\\n  z-index: 9999999 !important;\\n}\\n\\n#scrolliris_container .scrolliris-frame {\\n  z-index: 9999999 !important;\\n  position: fixed !important;\\n  bottom: 9px;\\n  left: 9px;\\n  width: 260px;\\n  height: 360px;\\n  border: 1px solid rgba(51, 51, 51, 0.18);\\n  border-radius: 1px;\\n}\\n';\n\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  style.appendChild(document.createTextNode(cssContent));\n\n  var s = document.getElementsByTagName('style')[0];\n  s.parentNode.insertBefore(style, s);\n}\n\n(function () {\n  insertStyle();\n\n  var sihl = window.Sihl;\n  var e = void 0;\n  if (Array.isArray(sihl.q)) {\n    e = sihl.q.shift();\n  }\n  if (e === undefined) {\n    console.err('FIXME');\n  } else if (e.length === 2) {\n    var evt = e[0],\n        ctx = e[1] // {config, options}\n    ;\n    if (evt === 'init') {\n      render(ctx);\n    } else if (evt === 'update') {\n      // TODO\n    }\n  }\n})();\n\n},{}]},{},[1]);\n"],"file":"scrolliris-readability-reflector-browser.js"}