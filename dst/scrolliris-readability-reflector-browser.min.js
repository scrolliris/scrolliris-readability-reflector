!function n(t,e,i){function r(c,s){if(!e[c]){if(!t[c]){var l="function"==typeof require&&require;if(!s&&l)return l(c,!0);if(o)return o(c,!0);var a=new Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a}var d=e[c]={exports:{}};t[c][0].call(d.exports,function(n){var e=t[c][1][n];return r(e||n)},d,d.exports,n,t,e,i)}return e[c].exports}for(var o="function"==typeof require&&require,c=0;c<i.length;c++)r(i[c]);return r}({1:[function(n,t,e){"use strict";function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),o=function(n){return n&&n.__esModule?n:{default:n}}(n("./index")),c=document.currentScript,s={Widget:function(){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),e.currentScript=c,this._widget=new o.default(t,e)}return r(n,[{key:"render",value:function(){return this._widget.render()}}]),n}()};void 0!==t&&t.exports&&(t.exports=s),window.ScrollirisReadabilityReflector=s},{"./index":2}],2:[function(n,t,e){"use strict";function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(n,t){var e=[],i=!0,r=!1,o=void 0;try{for(var c,s=n[Symbol.iterator]();!(i=(c=s.next()).done)&&(e.push(c.value),!t||e.length!==t);i=!0);}catch(n){r=!0,o=n}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),c=function(){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),this.config=t,this.context=e,this._iconMargin=4,this._iconWidth=48,this._minimapWidth=260,this._minimapHeight=400}return o(n,[{key:"render",value:function(){var n=this.context,t=n.settings||{},e=n.options||{widget:{extension:"minimap",initialState:"inactive"}};if(!(e.widget.extension in["minimap","overlay"]||e.widget.initialState in["active","inactive"])){var i=this._buildProperties(e.widget.initialState,e.widget.extension),o=r(i,3),c=o[0],s=o[1],l=o[2],a=document.createElement("style");a.type="text/css",a.appendChild(document.createTextNode(this._buildStyle(c))),document.getElementsByTagName("head")[0].appendChild(a);var d=document.createElement("iframe");d.setAttribute("id","scrolliris_frame");var u=document.createElement("div");u.setAttribute("id","scrolliris_container"),u.appendChild(d),document.body.appendChild(u);var h=this._buildWidget(e.widget.extension,s,l,n,t);d.contentWindow.ScrollirisReadabilityReflector={Context:n},d.contentWindow.document.open(),d.contentWindow.document.write(h),d.contentWindow.document.close()}}},{key:"_buildStyle",value:function(n){return"\n#scrolliris_container {\n  position: fixed;\n  margin: 0;\n  padding: 0;\n  padding-left: 6px !important;\n  padding-bottom: 6px !important;\n  width: auto;\n  height: auto;\n  left: 0px;\n  bottom: 0px;\n  z-index: 9999999 !important;\n}\n\n#scrolliris_frame {\n  z-index: 9999999 !important;\n  position: fixed !important;\n  margin: 0;\n  padding: 0;\n  width: "+(parseInt(n.width,10)+this._iconMargin)+"px;\n  height: "+(parseInt(n.height,10)+this._iconMargin)+"px;\n  left: 0;\n  bottom: 0;\n  border: 0;\n}\n"}},{key:"_getWinHeight",value:function(){return window.innerHeight||(document.documentElement||document.body).clientHeight}},{key:"_getDocHeight",value:function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}},{key:"_buildProperties",value:function(n,t){var e=void 0;e="overlay"===t?{state:"inactive"===n?"hidden":"block",width:"100%",height:document.body.scrollHeight+(this._getDocHeight()-this._getWinHeight())+"px"}:{state:"inactive"===n?"hidden":"block",width:this._minimapWidth+"px",height:this._minimapHeight+"px"};var i={state:"inactive"===n?"block":"hidden",width:this._iconWidth-this._iconMargin/2,height:this._iconWidth-this._iconMargin/2,src:"https://img.scrolliris.com/icon/scrolliris-logo-white-64x64.png"};return[{width:"hidden"===e.state?i.width:e.width,height:"hidden"===e.state?i.height:e.height},e,i]}},{key:"_buildWidget",value:function(n,t,e,i,r){function o(n,t){return r.hasOwnProperty(n)?r[n][t]:c.replace(s,"-"+n+"$2."+t+"$3").toString()}var c=(i.currentScript||document.currentScript).getAttribute("src")||"",s=/(-browser)?(\.min)?\.js(\?)?/,l={js:o(n,"js"),css:o(n,"css")};return""!==l.js&&""!==l.css||console.error("widget:"+n+" No such extension"),this["_make"+function(n){return n&&n[0].toUpperCase()+n.slice(1)}(n)](t,e,l.js,l.css)}},{key:"_buildStyleForWidget",value:function(){return"\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n*:focus {\n  outline: none;\n}\n\n*::-moz-focus-inner {\n  border: 0;\n}\n\n#scrolliris_item_container {\n  width: 100%;\n  height: 100%;\n}\n\n#scrolliris_icon_container .btn,\n#scrolliris_item_container .btn {\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  outline: 0;\n  outline-style: none;\n  border: 0;\n  background: none;\n  box-shadow: none;\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n}\n\n#scrolliris_icon_container .btn {\n  float: right;\n}\n\n.hidden {\n  display: none;\n  opacity: 0;\n}\n\n#scrolliris_widget {\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n}\n\n#scrolliris_widget .icon {\n  margin: 0;\n  padding: 0;\n}"}},{key:"_buildScriptForWidget",value:function(n,t){return"\nfunction _reset(itm) {\n  var frm = window.parent.document.getElementById('scrolliris_frame');\n  if (itm.classList.contains('hidden')) {\n    frm.style.width = '"+(t.width+this._iconMargin)+"px';\n    frm.style.height = '"+(t.height+this._iconMargin)+"px';\n  } else {\n    frm.style.width = '"+n.width+"';\n    frm.style.height = '"+n.height+"';\n  }\n}\n\nfunction toggleItem(slf, e) {\n  e.preventDefault();\n  var itm = document.getElementById('scrolliris_item_container');\n  itm.classList.toggle('hidden');\n  _reset(itm);\n  if (slf !== null) {\n    slf.classList.toggle('hidden');\n  } else {\n    var icn = document.getElementById('scrolliris_icon_container')\n      , btn = icn.querySelector('button')\n    ;\n    btn.classList.toggle('hidden');\n  }\n}"}},{key:"_makeMinimap",value:function(n,t,e,i){return('\n<head>\n  <meta charset="utf-8">\n  <style>'+this._buildStyleForWidget()+'</style>\n  <link rel="stylesheet" href="'+i+'">\n</head>\n<body>\n  <div id="scrolliris_widget">\n    <div id="scrolliris_icon_container">\n      <button type="button" class="btn '+t.state+'" onclick="return toggleItem(this, event);">\n        <img class="icon" src="'+t.src+'" alt="Scrolliris Icon" width="'+t.width+'" height="'+t.height+'"></button>\n    </div>\n    <div id="scrolliris_item_container" class="'+n.state+'">\n      <div id="scrolliris_header">\n        <div class="header">\n          <h1 style="font-family:monospace;">READABILITY HEATMAP</h1>\n          <button type="button" class="btn close" onclick="return toggleItem(null, event)">Ã—</button>\n        </div>\n      </div>\n      <div id="scrolliris_minimap_container"></div>\n      <div id="scrolliris_footer">\n        <p class="txt">Powered by <a href="https://about.scrolliris.com/" target="_blank">Scrolliris</a></p>\n      </div>\n    </div>\n  </div>\n  <script async src="'+e+'"><\/script>\n  <script>'+this._buildScriptForWidget(n,t)+"<\/script>\n</body>\n").replace(/\n\s*|([\:;,"]|\)|}|if|else)\s+(\(|else|{)?/g,"$1$2")}},{key:"_makeOverlay",value:function(n,t,e,i){return('\n<head>\n  <meta charset="utf-8">\n  <style>'+this._buildStyleForWidget()+'</style>\n  <link rel="stylesheet" href="'+i+'">\n</head>\n<body>\n  <div id="scrolliris_widget">\n    <div id="scrolliris_icon_container">\n      <button type="button" class="btn '+t.state+'" onclick="return toggleItem(this, event);">\n        <img class="icon" src="'+t.src+'" alt="Scrolliris Icon" width="'+t.width+'" height="'+t.height+'"></button>\n    </div>\n    <div id="scrolliris_item_container" class="'+n.state+'" onclick="return toggleItem(null, event);">\n      <div id="scrolliris_overlay_container"></div>\n    </div>\n  </div>\n  <script async src="'+e+'"><\/script>\n  <script>'+this._buildScriptForWidget(n,t)+"<\/script>\n</body>\n").replace(/\n\s*|([\:;,"]|\)|}|if|else)\s+(\(|else|{)?/g,"$1$2")}}]),n}();e.default=c},{}]},{},[1]);
//# sourceMappingURL=scrolliris-readability-reflector-browser.min.js.map
