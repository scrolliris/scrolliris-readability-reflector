!function n(t,e,i){function r(c,s){if(!e[c]){if(!t[c]){var l="function"==typeof require&&require;if(!s&&l)return l(c,!0);if(o)return o(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var a=e[c]={exports:{}};t[c][0].call(a.exports,function(n){var e=t[c][1][n];return r(e||n)},a,a.exports,n,t,e,i)}return e[c].exports}for(var o="function"==typeof require&&require,c=0;c<i.length;c++)r(i[c]);return r}({1:[function(n,t,e){"use strict";function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),o=function(n){return n&&n.__esModule?n:{default:n}}(n("./index")),c=document.currentScript,s={Widget:function(){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),e.currentScript=c,this._widget=new o.default(t,e)}return r(n,[{key:"render",value:function(){return this._widget.render()}}]),n}()};void 0!==t&&t.exports&&(t.exports=s),window.ScrollirisReadabilityReflector=s},{"./index":2}],2:[function(n,t,e){"use strict";function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(n,t){var e=[],i=!0,r=!1,o=void 0;try{for(var c,s=n[Symbol.iterator]();!(i=(c=s.next()).done)&&(e.push(c.value),!t||e.length!==t);i=!0);}catch(n){r=!0,o=n}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),c=function(){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),this.config=t,this.context=e,this._iconMargin=4,this._iconWidth=48,this._minimapWidth=260,this._minimapHeight=400}return o(n,[{key:"render",value:function(){var n=this.context,t=n.settings||{},e=n.options||{widget:{extension:"minimap",initialState:"inactive"}};if(!(e.widget.extension in["minimap","overlay"]||e.widget.initialState in["active","inactive"])){var i=this._buildProperties(e.widget.initialState,e.widget.extension),o=r(i,2),c=o[0],s=o[1],l=document.createElement("style");l.type="text/css",l.appendChild(document.createTextNode(this._buildStyle(c))),document.getElementsByTagName("head")[0].appendChild(l);var d=document.createElement("iframe");d.setAttribute("id","scrolliris_frame");var a=document.createElement("div");a.setAttribute("id","scrolliris_container"),a.appendChild(d),document.body.appendChild(a);var u=this._buildWidget(e.widget.extension,c,s,n,t);d.contentWindow.ScrollirisReadabilityReflector={Context:n},d.contentWindow.document.open(),d.contentWindow.document.write(u),d.contentWindow.document.close()}}},{key:"_buildStyle",value:function(n){var t="block"===n.state?"100%":"auto";return"\n#scrolliris_container {\n  margin: 0;\n  padding: 0;\n  padding-left: 6px !important;\n  padding-bottom: 6px !important;\n  width: auto;\n  height: auto;\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  z-index: 2147483647;\n}\n\n#scrolliris_frame {\n  margin: 0;\n  padding: 0;\n  width: "+t+";\n  height: "+t+";\n  border: 0;\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  z-index: 2147483647;\n}\n"}},{key:"_getWinHeight",value:function(){return window.innerHeight||(document.documentElement||document.body).clientHeight}},{key:"_getDocHeight",value:function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}},{key:"_buildProperties",value:function(n,t){var e="https://img.scrolliris.com/";return["overlay"===t?{state:"inactive"===n?"hidden":"block",width:"100%",height:document.body.scrollHeight+(this._getDocHeight()-this._getWinHeight())+"px"}:{state:"inactive"===n?"hidden":"block",width:this._minimapWidth+"px",height:this._minimapHeight+"px"},{state:"inactive"===n?"block":"overlay"===t?"block":"hidden",width:this._iconWidth-this._iconMargin/2+"px",height:this._iconWidth-this._iconMargin/2+"px",src:{on:e+"icon/scrolliris-logo-white-64x64.png",off:e+"icon/scrolliris-logo-none-64x64.png"}}]}},{key:"_buildWidget",value:function(n,t,e,i,r){function o(n,t){return r.hasOwnProperty(n)?r[n][t]:c.replace(s,"-"+n+"$2."+t+"$3").toString()}var c=(i.currentScript||document.currentScript).getAttribute("src")||"",s=/(-browser)?(\.min)?\.js(\?)?/,l={js:o(n,"js"),css:o(n,"css")};return""!==l.js&&""!==l.css||console.error("widget:"+n+" No such extension"),this["_make"+function(n){return n&&n[0].toUpperCase()+n.slice(1)}(n)](t,e,l.js,l.css)}},{key:"_buildStyleForWidget",value:function(){return"\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n*:focus {\n  outline: none;\n}\n\n*::-moz-focus-inner {\n  border: 0;\n}\n\n#scrolliris_item_container {\n  width: auto;\n  height: auto;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: -1;\n}\n\n#scrolliris_icon_container {\n  width: auto;\n  height: auto;\n  position: fixed;\n  left: 6px;\n  bottom: 6px !important;\n  z-index: 1;\n  display: block;\n}\n\n#scrolliris_icon_container .btn,\n#scrolliris_item_container .btn {\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  outline: 0;\n  outline-style: none;\n  border: 0;\n  background: none;\n  box-shadow: none;\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n}\n\n.hidden {\n  display: none;\n  opacity: 0;\n}\n\n#scrolliris_widget {\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n}"}},{key:"_buildScriptForWidget",value:function(n,t){return"\nfunction _resetWidget(itm) {\n  var frm = window.parent.document.getElementById('scrolliris_frame');\n  if (itm.classList.contains('hidden')) {\n    frm.style.width = 'auto';\n    frm.style.height = 'auto';\n    itm.style.width = '0px';\n    itm.style.height = '0px';\n  } else {\n    frm.style.width = '100%';\n    frm.style.height = '100%';\n    itm.style.width = '"+n.width+"';\n    itm.style.height = '"+n.height+"';\n  }\n}\n\nfunction toggleItem(slf, e) {\n  e.preventDefault();\n  var itm = document.getElementById('scrolliris_item_container');\n  itm.classList.toggle('hidden');\n  _resetWidget(itm);\n  var icn = document.getElementById('scrolliris_icon_container')\n    , img = icn.querySelector('img')\n    ;\n  if (itm.classList.contains('hidden')) {\n    img.setAttribute('src', '"+t.src.on+"');\n  } else {\n    img.setAttribute('src', '"+t.src.off+"');\n  }\n}"}},{key:"_makeMinimap",value:function(n,t,e,i){return('\n<head>\n  <meta charset="utf-8">\n  <style>'+this._buildStyleForWidget()+'</style>\n  <link rel="stylesheet" href="'+i+'">\n</head>\n<body>\n  <div id="scrolliris_widget">\n    <div id="scrolliris_item_container"\n      class="ext'+("hidden"===n.state?" hidden":"")+'">\n      <div id="scrolliris_header">\n        <div class="header">\n          <h1 style="font-family:monospace;">READABILITY HEATMAP</h1>\n          <button type="button"\n                 class="btn close"\n               onclick="return toggleItem(null, event)">Ã—</button>\n        </div>\n      </div>\n      <div id="scrolliris_minimap_container"></div>\n      <div id="scrolliris_footer">\n        <p class="txt">Powered by <a href="https://about.scrolliris.com/"\n                                   target="_blank">Scrolliris</a></p>\n      </div>\n    </div>\n    <div id="scrolliris_icon_container">\n      <button type="button"\n             class="btn'+("hidden"===t.state?" hidden":"")+'"\n           onclick="return toggleItem(this, event);">\n        <img class="icon"\n               src="'+t.src.on+'"\n               alt="Scrolliris Icon"\n             width="'+t.width+'"\n            height="'+t.height+'"></button>\n    </div>\n  </div>\n  <script async src="'+e+'"><\/script>\n  <script>'+this._buildScriptForWidget(n,t)+"<\/script>\n</body>").replace(/\n\s*|([\:;,"]|\)|}|if|else)\s+(\(|else|{)?/g,"$1$2")}},{key:"_makeOverlay",value:function(n,t,e,i){return('\n<head>\n  <meta charset="utf-8">\n  <style>'+this._buildStyleForWidget()+'</style>\n  <link rel="stylesheet" href="'+i+'">\n</head>\n<body>\n  <div id="scrolliris_widget">\n    <div id="scrolliris_item_container"\n      class="ext'+("hidden"===n.state?" hidden":"")+'"\n    onclick="return toggleItem(null, event);">\n      <div id="scrolliris_overlay_container"></div>\n    </div>\n    <div id="scrolliris_icon_container">\n      <button type="button"\n             class="btn'+("hidden"===t.state?" hidden":"")+'"\n           onclick="return toggleItem(this, event);">\n        <img class="icon"\n               src="'+("hidden"===n.state?t.src.on:t.src.off)+'"\n               alt="Scrolliris Icon"\n             width="'+t.width+'"\n            height="'+t.height+'"></button>\n    </div>\n  </div>\n  <script async src="'+e+'"><\/script>\n  <script>'+this._buildScriptForWidget(n,t)+"<\/script>\n</body>").replace(/\n\s*|([\:;,"]|\)|}|if|else)\s+(\(|else|{)?/g,"$1$2")}}]),n}();e.default=c},{}]},{},[1]);
//# sourceMappingURL=scrolliris-readability-reflector-browser.min.js.map
