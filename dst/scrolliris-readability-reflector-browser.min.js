!function n(e,t,i){function r(a,s){if(!t[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=t[a]={exports:{}};e[a][0].call(d.exports,function(n){var t=e[a][1][n];return r(t||n)},d,d.exports,n,e,t,i)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(n,e,t){"use strict";function i(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),o=function(n){return n&&n.__esModule?n:{default:n}}(n("./index")),a=document.currentScript,s={Widget:function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),t.currentScript=a,this._widget=new o.default(e,t)}return r(n,[{key:"render",value:function(){return this._widget.render()}}]),n}()};void 0!==e&&e.exports&&(e.exports=s),window.ScrollirisReadabilityReflector=s},{"./index":2}],2:[function(n,e,t){"use strict";function i(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n,e){var t=[],i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done)&&(t.push(a.value),!e||t.length!==e);i=!0);}catch(n){r=!0,o=n}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),a=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),this.config=e,this.context=t}return o(n,[{key:"render",value:function(){var n=this.context,e=n.settings||{},t=n.options||{widget:"active"},i=this._buildComponents(t.widget),o=r(i,3),a=o[0],s=o[1],c=o[2];this._insertStyle(a);var l=document.createElement("iframe");l.setAttribute("id","scrolliris_frame");var d=document.createElement("div");d.setAttribute("id","scrolliris_container"),d.appendChild(l),document.body.appendChild(d);var u=(n.currentScript||document.currentScript).getAttribute("src")||"",p=/(-browser)?(\.min)?\.js(\?)?/,m={};m.js=e.hasOwnProperty("minimap")?e.minimap.js:u.replace(p,"-minimap$2.js$3").toString(),m.css=e.hasOwnProperty("minimap")?e.minimap.css:u.replace(p,"-minimap$2.css$3").toString(),""!==m.js&&""!==m.css||console.error("widget source (js|css) is missing");var h=this._makeMinimap(c,s,m.js,m.css);l.contentWindow.ScrollirisReadabilityReflector={Context:n},l.contentWindow.document.open(),l.contentWindow.document.write(h),l.contentWindow.document.close()}},{key:"_insertStyle",value:function(n){var e="\n#scrolliris_container {\n  position: fixed;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n  left: 0px;\n  bottom: 0px;\n  z-index: 9999999 !important;\n}\n\n#scrolliris_frame {\n  z-index: 9999999 !important;\n  position: fixed !important;\n  margin: 0;\n  padding: 0;\n  width: "+n.width+"px;\n  height: "+n.height+"px;\n  left: 9px;\n  bottom: 9px;\n  border: 0;\n}\n",t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}},{key:"_buildComponents",value:function(n){var e={state:"inactive"===n?"hidden":"block",width:"260",height:"400"},t={state:"inactive"===n?"block":"hidden",width:"48",height:"48",src:"https://img.scrolliris.io/icon/scrolliris-logo-white-64x64.png"};return[{width:"hidden"===e.state?t.width:e.width,height:"hidden"===e.state?t.height:e.height},e,t]}},{key:"_makeMinimap",value:function(n,e,t,i){return('\n<head>\n  <meta charset="utf-8">\n  <style>\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n:focus {\n  outline: none;\n}\n\n::-moz-focus-inner {\n  border: 0;\n}\n\n#scrolliris_icon_container .btn,\n#scrolliris_minimap_container .btn {\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  outline: 0;\n  outline-style: none;\n  border: 0;\n  background: none;\n  box-shadow: none;\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n}\n\n.hidden {\n  display: none;\n  border: 0;\n  width: 0;\n  height: 0;\n}\n\n#scrolliris_widget {\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n}\n\n#scrolliris_widget .icon {\n  margin: 0;\n  padding: 0;\n}\n\n#scrolliris_minimap_container {\n  background-color: #ffffff;\n  max-width: 260px;\n  max-height: 400px;\n  border: 1px solid rgba(51, 51, 51, 0.18);\n  border-radius: 1px;\n}\n  </style>\n  <link rel="stylesheet" href="'+i+'">\n</head>\n<body>\n  <div id="scrolliris_widget">\n    <div id="scrolliris_icon_container">\n      <button type="button" class="btn '+n.state+'" onclick="return toggleMinimap(this, event);">\n        <img class="icon" src="'+n.src+'" alt="Scrolliris Icon" width="'+n.width+'" height="'+n.height+'"></button>\n    </div>\n    <div id="scrolliris_minimap_container" class="'+e.state+'">\n      <div id="scrolliris_header">\n        <div class="header">\n          <h1 style="font-family:monospace;">READABILITY HEATMAP</h1>\n          <button type="button" class="btn close" onclick="return toggleMinimap(null, event)">Ã—</button>\n        </div>\n      </div>\n      <div id="scrolliris_minimap_canvas_container"></div>\n      <div id="scrolliris_footer">\n        <p class="txt">Powered by <a href="https://about.scrolliris.com/" target="_blank">Scrolliris</a></p>\n      </div>\n    </div>\n  </div>\n  <script async src="'+t+"\"><\/script>\n  <script>\nfunction _resetMinimap(minimap) {\n  var frame = window.parent.document.getElementById('scrolliris_frame');\n  if (minimap.classList.contains('hidden')) {\n    frame.setAttribute('style', 'height:48px;width:48px;');\n  } else {\n    frame.setAttribute('style', 'height:400px;width:260px;');\n  }\n}\n\nfunction toggleMinimap(self, e) {\n  e.preventDefault();\n  var minimap = document.getElementById('scrolliris_minimap_container');\n  minimap.classList.toggle('hidden');\n  _resetMinimap(minimap);\n  if (self !== null) {\n    self.classList.toggle('hidden');\n  } else {\n    var icon = document.getElementById('scrolliris_icon_container')\n      , btn = icon.querySelector('button')\n    ;\n    btn.classList.toggle('hidden');\n  }\n}\n  <\/script>\n</body>\n").replace(/\n\s*/g,"")}}]),n}();t.default=a},{}]},{},[1]);
//# sourceMappingURL=scrolliris-readability-reflector-browser.min.js.map
