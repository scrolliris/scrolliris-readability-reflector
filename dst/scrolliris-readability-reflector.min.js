!function n(t,e,i){function r(a,s){if(!e[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=e[a]={exports:{}};t[a][0].call(d.exports,function(n){var e=t[a][1][n];return r(e||n)},d,d.exports,n,t,e,i)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(n,t,e){"use strict";function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function n(n,t){var e=[],i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done)&&(e.push(a.value),!t||e.length!==t);i=!0);}catch(n){r=!0,o=n}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return e}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),a=function(){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),this.config=t,this.context=e}return o(n,[{key:"render",value:function(){var n=this.context,t=n.settings||{},e=n.options||{widget:"active"},i=this._buildComponents(e.widget),o=r(i,3),a=o[0],s=o[1],c=o[2];this._insertStyle(a);var l=document.createElement("iframe");l.setAttribute("id","scrolliris_frame");var d=document.createElement("div");d.setAttribute("id","scrolliris_container"),d.appendChild(l),document.body.appendChild(d);var u=(n.currentScript||document.currentScript).getAttribute("src")||"",p=/(-browser)?(\.min)?\.js(\?)?/,h=t.canvasJS||u.replace(p,"-canvas$2.js$3").toString(),m=t.canvasCSS||u.replace(p,"-canvas$2.css$3").toString();""===h&&console.error("canvasJS is missing"),""===m&&console.error("canvasCSS is missing"),l.contentWindow.ScrollirisReadabilityReflector={Context:n},l.contentWindow.document.open(),l.contentWindow.document.write(this._makeContent(c,s,h,m)),l.contentWindow.document.close()}},{key:"_insertStyle",value:function(n){var t="\n#scrolliris_container {\n  position: fixed;\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n  left: 0px;\n  bottom: 0px;\n  z-index: 9999999 !important;\n}\n\n#scrolliris_frame {\n  z-index: 9999999 !important;\n  position: fixed !important;\n  margin: 0;\n  padding: 0;\n  width: "+n.width+"px;\n  height: "+n.height+"px;\n  left: 9px;\n  bottom: 9px;\n  border: 0;\n}\n",e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}},{key:"_buildComponents",value:function(n){var t={state:"active"===n?"block":"hidden",width:"260",height:"400"},e={state:"active"===n?"hidden":"block",width:"48",height:"48",src:"https://img.scrolliris.io/icon/scrolliris-64x64.png"};return[{width:"hidden"===t.state?e.width:t.width,height:"hidden"===t.state?e.height:t.height},t,e]}},{key:"_makeContent",value:function(n,t,e,i){return('\n<head>\n  <meta charset="utf-8">\n  <style>\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n:focus {\n  outline: none;\n}\n\n::-moz-focus-inner {\n  border: 0;\n}\n\n#scrolliris_icon_container .btn,\n#scrolliris_minimap_container .btn {\n  cursor: pointer;\n  margin: 0;\n  padding: 0;\n  outline: 0;\n  outline-style: none;\n  border: 0;\n  background: none;\n  box-shadow: none;\n  appearance: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n}\n\n.hidden {\n  display: none;\n  border: 0;\n  width: 0;\n  height: 0;\n}\n\n#crolliris_widget {\n  margin: 0;\n  padding: 0;\n  width: auto;\n  height: auto;\n}\n\n#crolliris_widget .icon {\n  margin: 0 0 0 2px;\n  padding: 0;\n}\n\n#scrolliris_minimap_container {\n  max-width: 260px;\n  max-height: 400px;\n  border: 1px solid rgba(51, 51, 51, 0.18);\n  border-radius: 1px;\n}\n  </style>\n  <link rel="stylesheet" href="'+i+'">\n</head>\n<body>\n  <div id="scrolliris_widget">\n    <div id="scrolliris_icon_container">\n      <button type="button" class="btn '+n.state+'" onclick="return toggleMinimap(this, event);">\n        <img class="icon" src="'+n.src+'" alt="" width="'+n.width+'" height="'+n.height+'"></button>\n    </div>\n    <div id="scrolliris_minimap_container" class="'+t.state+'">\n      <div id="scrolliris_header">\n        <div class="header">\n          <h1 style="font-family:monospace;">READABILITY HEATMAP</h1>\n          <button type="button" class="btn close" onclick="return toggleMinimap(null, event)">Ã—</button>\n        </div>\n      </div>\n      <div id="scrolliris_canvas_container"></div>\n      <div id="scrolliris_footer">\n        <p class="txt">Powered by <a href="https://about.scrolliris.com/" target="_blank">Scrolliris</a></p>\n      </div>\n    </div>\n  </div>\n  <script async src="'+e+"\"><\/script>\n  <script>\nfunction _resetMinimap(minimap) {\n  var frame = window.parent.document.getElementById('scrolliris_frame');\n  if (minimap.classList.contains('hidden')) {\n    frame.setAttribute('style', 'height:48px;width:48px;');\n  } else {\n    frame.setAttribute('style', 'height:400px;width:260px;');\n  }\n}\n\nfunction toggleMinimap(self, e) {\n  e.preventDefault();\n  var minimap = document.getElementById('scrolliris_minimap_container');\n  minimap.classList.toggle('hidden');\n  _resetMinimap(minimap);\n  if (self !== null) {\n    self.classList.toggle('hidden');\n  } else {\n    var icon = document.getElementById('scrolliris_icon_container')\n      , btn = icon.querySelector('button')\n    ;\n    btn.classList.toggle('hidden');\n  }\n}\n  <\/script>\n</body>\n").replace(/\n\s*/g,"")}}]),n}();e.default=a},{}]},{},[1]);
//# sourceMappingURL=scrolliris-readability-reflector.min.js.map
